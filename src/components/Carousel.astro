<div class="slide1">
  <img
    src="/img/Montana_avenyChair_AndersEgngholm_04_H.webp"
    alt="avenyChair"
  />
  <img src="/img/Montana1.webp" alt="Montana" />
  <img src="/img/andreasMedPlade.webp" alt="Andreas med plade" />
</div>

<div class="slide2">
  <img src="/img/Skamlen.webp" alt="skamlen" />
</div>

<div class="slide3">
  <img src="/img/Montana2.webp" alt="Montana2" />
</div>

<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
<a class="next" onclick="plusSlides(1)">
  <img src="/img/arow.webp" alt="pil" />
</a>i

<div class="carousel" data-carousel>
  <button class="carousel-button prev" data-carousel-button="prev">
    &#8592;
  </button>
  <button class="carousel-button next" data-carousel-button="next">
    &#8594;
  </button>

  <ul data-slides>
    <li class="slide" data-active>
      <img src="menu_1.png" alt="forside" />
    </li>
    <li class="slide"><img src="menu_2.png" alt="side 1 og 2" /></li>
    <li class="slide"><img src="menu_3.png" alt="bagside" /></li>
  </ul>
</div>

<script>
  const buttons = document.querySelectorAll("[data-carousel-button]");

  buttons.forEach((button) => {
    button.addEventListener("click", () => {
      console.log("click virker");
      const offset = button.dataset.carouselButton === "next" ? 1 : -1;
      const slides = button
        .closest("[data-carousel]")
        .querySelector("[data-slides]");

      const activeSlide = slides.querySelector("[data-active]");
      let newIndex = [...slides.children].indexOf(activeSlide) + offset;
      if (newIndex < 0) newIndex = slides.children.length - 1;
      if (newIndex >= slides.children.length) newIndex = 0;

      slides.children[newIndex].dataset.active = true;
      delete activeSlide.dataset.active;
    });
  });
</script>

<style>
  .right {
    display: flex;
    justify-content: end;
    text-align: right;
  }

  .carousel {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .slide {
    position: absolute;
    inset: 0;
    opacity: 0;
  }

  .slide[data-active] {
    opacity: 1;
    z-index: 1;
    transition-delay: 0ms;
  }

  .carousel-button {
    position: absolute;
    background: none;
    border: none;
    font-weight: lighter;
    font-size: 2em;
    z-index: 2;
    top: 50%;
    transform: translateY(50%);
    color: #641b2c;
    cursor: pointer;
  }

  .carousel-button:hover {
    background-color: rgba(100, 27, 44, 0.2);
    color: black;
    outline: 0.75px solid #641b2c;
  }

  .prev {
    left: 1rem;
  }

  .next {
    right: 1rem;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
</style>
